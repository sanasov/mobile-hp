<ion-header>
    <ion-navbar #navbar>
    </ion-navbar>
</ion-header>
<ion-content id="event-card">
    <ion-card>
        <ion-list>
            <ion-item (click)="openModalEditTitle()">
                <h1 style="white-space: normal"> {{event.title}}</h1>
                <ion-icon
                        (click)="openModalEditTitle()"
                        name="md-create"
                        item-end
                        style="font-size: 17px; position: relative; top: 4px;">
                </ion-icon>
            </ion-item>
            <ion-item>
                <ion-icon name="ios-calendar-outline" item-start></ion-icon>
                <ion-label>{{"DATE"| translate}}:</ion-label>
                <ion-datetime displayFormat=" DD MMM YYYY"
                              (ngModelChange)="dateChange($event)"
                              placeholder="{{'SPECIFY_A_DATE' | translate}}"
                              max="2199-12-31"
                              [(ngModel)]="event.dateString">

                </ion-datetime>
            </ion-item>
            <ion-item>
                <ion-icon name="ios-notifications-outline" item-start></ion-icon>
                <ion-label>{{"NOTIFY_BY"| translate}}:</ion-label>
                <ion-datetime displayFormat=" DD MMM YYYY  HH:mm"
                              pickerFormat=" DD MMM YYYY HH:mm"
                              placeholder="{{'SPECIFY_A_DATE_AND_TIME' | translate}}"
                              min="2018-02-25"
                              max="2199-12-31"
                              [(ngModel)]="event.notifyDateString">

                </ion-datetime>
            </ion-item>
        </ion-list>
    </ion-card>
    <ion-card>
        <ion-item>
            <div class="event-card-flex-row">
                <span *ngIf="isFuture()">{{"DAYS_LEFT" | translate}}:</span>
                <span *ngIf="!isFuture()">{{"DAYS_PASSED" | translate}}:</span>
                <span class="days-amount">{{diffDays()}}</span>
            </div>
        </ion-item>
    </ion-card>

    <ion-card *ngIf="!event.magicEvent"
              style="margin-top: 10px"
              (click)="discoverHolidays()">
        <img class="img-wand" src="assets/imgs/wand.jpg">
        <h2 style="color:grey; position: absolute; bottom: 5px; left: 15px">
            {{"DISCOVER_YOUR_NEW_HOLIDAYS" | translate}}
        </h2>
    </ion-card>

    <ion-card *ngIf="event.magicEvent"
              style="margin-top: 10px">
        <ion-item>
            <ion-label>{{"UPCOMING_HOLIDAYS" | translate}}:</ion-label>
            <ion-icon
                    (click)="event.magicEvent = false"
                    name="ios-close"
                    item-end
                    style="font-size: 38px; position: relative; top:-5px; color: grey">
            </ion-icon>
        </ion-item>
        <ion-card-content>
            <div class="nearest-holiday-flex-row" *ngFor="let holiday of nearestHolidays">
                <span>{{holiday.description}}</span>
                <span style="margin-left: 10px; width: 90px; text-align: end;">{{holiday.date | date :'dd MMM yyyy' : '' : locale}} </span>
            </div>
        </ion-card-content>
    </ion-card>
</ion-content>
